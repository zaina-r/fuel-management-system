function f(n){if(arguments.length==0)throw new TypeError("`CSS.escape` requires an argument.");var e=String(n),i=e.length,r=-1,t,s="",l=e.charCodeAt(0);if(i==1&&l==45)return"\\"+e;for(;++r<i;){if(t=e.charCodeAt(r),t==0){s+="\uFFFD";continue}if(t>=1&&t<=31||t==127||r==0&&t>=48&&t<=57||r==1&&t>=48&&t<=57&&l==45){s+="\\"+t.toString(16)+" ";continue}if(t>=128||t==45||t==95||t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122){s+=e.charAt(r);continue}s+="\\"+e.charAt(r)}return s}function v(n){return n.replace(/\\([\dA-Fa-f]{1,6}[\t\n\f\r ]?|[\S\s])/g,e=>e.length>2?String.fromCodePoint(Number.parseInt(e.slice(1).trim(),16)):e[1])}var p=new Map([["--font",["--font-weight","--font-size"]],["--inset",["--inset-shadow","--inset-ring"]],["--text",["--text-color","--text-underline-offset","--text-indent","--text-decoration-thickness","--text-decoration-color"]]]);function h(n,e){return(p.get(e)??[]).some(i=>n===i||n.startsWith(`${i}-`))}var g=class{constructor(e=new Map,i=new Set([])){this.values=e;this.keyframes=i}prefix=null;add(e,i,r=0){if(e.endsWith("-*")){if(i!=="initial")throw new Error(`Invalid theme value \`${i}\` for namespace \`${e}\``);e==="--*"?this.values.clear():this.clearNamespace(e.slice(0,-2),0)}if(r&4){let t=this.values.get(e);if(t&&!(t.options&4))return}i==="initial"?this.values.delete(e):this.values.set(e,{value:i,options:r})}keysInNamespaces(e){let i=[];for(let r of e){let t=`${r}-`;for(let s of this.values.keys())s.startsWith(t)&&s.indexOf("--",2)===-1&&(h(s,r)||i.push(s.slice(t.length)))}return i}get(e){for(let i of e){let r=this.values.get(i);if(r)return r.value}return null}hasDefault(e){return(this.getOptions(e)&4)===4}getOptions(e){return this.values.get(e)?.options??0}entries(){return this.prefix?Array.from(this.values,e=>(e[0]=this.#r(e[0]),e)):this.values.entries()}#r(e){return this.prefix?`--${this.prefix}-${e.slice(2)}`:e}clearNamespace(e,i){let r=p.get(e)??[];e:for(let t of this.values.keys())if(t.startsWith(e)){if(i!==0&&(this.getOptions(t)&i)!==i)continue;for(let s of r)if(t.startsWith(s))continue e;this.values.delete(t)}}#e(e,i){for(let r of i){let t=e!==null?f(`${r}-${e.replaceAll(".","_")}`):r;if(this.values.has(t)&&!h(t,r))return t}return null}#t(e){return this.values.has(e)?`var(${this.#r(e)})`:null}resolve(e,i){let r=this.#e(e,i);if(!r)return null;let t=this.values.get(r);return t.options&1?t.value:this.#t(r)}resolveValue(e,i){let r=this.#e(e,i);return r?this.values.get(r).value:null}resolveWith(e,i,r=[]){let t=this.#e(e,i);if(!t)return null;let s={};for(let u of r){let o=`${t}${u}`,a=this.values.get(o);a&&(a.options&1?s[u]=a.value:s[u]=this.#t(o))}let l=this.values.get(t);return l.options&1?[l.value,s]:[this.#t(t),s]}namespace(e){let i=new Map,r=`${e}-`;for(let[t,s]of this.values)t===e?i.set(null,s.value):t.startsWith(`${r}-`)?i.set(t.slice(e.length),s.value):t.startsWith(r)&&i.set(t.slice(r.length),s.value);return i}addKeyframes(e){this.keyframes.add(e)}getKeyframes(){return Array.from(this.keyframes)}};export{f as a,v as b,g as c};
